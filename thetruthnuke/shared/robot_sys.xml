<mujoco model="robot_basic_task_2">

    <!--  set the values -kp^ground and -kd^ground  -->
    <option timestep="0.001" o_solref="-100000 -1000" gravity="0 -9.81 0">
        <flag override="enable"/>
    </option>

    <default>
        <geom contype="1" conaffinity="1" friction="0.5 0 0"/> <!-- slide (dynamic), spin(0), roll (0)-->

        <joint type="hinge" damping="0.5"/> <!-- add joint damping-->
    </default>

    <asset>
        <texture type="skybox" builtin="gradient" rgb1="0.6 0.6 0.6" rgb2="0 0 0" width="512" height="512"/>
        <texture name="texplane" type="2d" builtin="checker" rgb1=".25 .25 .25" rgb2=".3 .3 .3" width="512" height="512" mark="cross" markrgb=".8 .8 .8"/>
        <material name="matplane" reflectance="0.3" texture="texplane" texrepeat="1 1" texuniform="true"/>

        <!-- colors -->
        <material name="gray" rgba="0.7 0.7 0.7 1"/>
        <material name="blue" rgba="0 0 1 1"/>
        <material name="red" rgba="1 0 0 1"/>
        <material name="yellow" rgba="1 1 0 1"/>
        <material name="green" rgba="0 1 0 0.5"/>
    </asset>

    <worldbody>
        <light pos="0 0 2" dir="0 -1 -1" directional="true"/>

        <!-- Ground in XZ plane at Y=0 -->
        <body pos="0 0 0">
            <geom name="floor" type="box" size="50 0.01 50" pos="0 -0.01 0" material="matplane" />
        </body>

        <!-- Body (trunk) -->
        <body name="trunk" pos="0 0 0">

            <!-- planar motion of trunk-->
            <joint name="x" type="slide" axis="1 0 0"/>
            <joint name="y" type="slide" axis="0 1 0"/>
            <joint name="theta" type="hinge" axis="0 0 1"/>

            <!-- Trunk geometry (COM) - contype 2 for trunk-->
            <geom name="trunk_geom" type="box" size="0.075 0.125 0.01" material="gray" contype="2" conaffinity="2"/> 
            <inertial pos="0 0 0" mass="8" diaginertia="0.0567 0.0567 0.0567"/>

        
            <!-- Leg 1 - contype 4, conaffinity 5 (collides with ground=1 and trunk=2) -->
            <body name="leg_1" pos="0 -0.125 0"> <!-- located at base of trunk in Y axis, centered in X-->
                <inertial pos="0 -0.11 0" mass="0.25" diaginertia="0.001 1e-6 0.001"/> <!-- set the mass properties relative to body frame-->
                <joint name="q1" type="hinge" axis="0 0 1" limited="true" range="-120 30"/>
                <geom name="leg_1_geom" type="capsule" fromto="0 0 0 0 -0.22 0" size="0.005" material="blue" contype="4" conaffinity="3"/>

                <!-- leg 2 -->
                <body name="leg_2" pos="0 -0.22 0"> <!-- position relative to parent frame (l1)-->
                    <inertial pos="0 -0.11 0" mass="0.25" diaginertia="0.001 1e-6 0.001"/>
                    <joint name="q2" type="hinge" axis="0 0 1" limited="true" range="0 160"/>
                    <geom name="leg_2_geom" type="capsule" fromto="0 0 0 0 -0.22 0" size="0.005" material="red" contype="4" conaffinity="3"/>
                </body>
            </body>

            <!-- leg 3 - contype 8, conaffinity 9 (collides with ground=1 and trunk=2) -->
            <body name="leg_3" pos="0 -0.125 0">
                <inertial pos="0 -0.11 0" mass="0.25" diaginertia="0.001 1e-6 0.001"/>
                <joint name="q3" type="hinge" axis="0 0 1" limited="true" range="-120 30"/>
                <geom name="leg_3_geom" type="capsule" fromto="0 0 0 0 -0.22 0" size="0.005" material="green" contype="8" conaffinity="3"/>

                <!-- leg 4 -->
                <body name="leg_4" pos="0 -0.22 0">
                    <inertial pos="0 -0.11 0" mass="0.25" diaginertia="0.001 1e-6 0.001"/>
                    <joint name="q4" type="hinge" axis="0 0 1" limited="true" range="0 160"/>
                    <geom name="leg_4_geom" type="capsule" fromto="0 0 0 0 -0.22 0" size="0.005" material="yellow" contype="8" conaffinity="3"/>
                </body>
            </body>
        </body>
    </worldbody>

    <actuator>
        <motor name="tau_q1" joint="q1" gear="1" ctrllimited="true" ctrlrange="-30 30"/>
        <motor name="tau_q2" joint="q2" gear="1" ctrllimited="true" ctrlrange="-60 60"/>
        <motor name="tau_q3" joint="q3" gear="1" ctrllimited="true" ctrlrange="-30 30"/>
        <motor name="tau_q4" joint="q4" gear="1" ctrllimited="true" ctrlrange="-60 60"/>
    </actuator>


</mujoco>